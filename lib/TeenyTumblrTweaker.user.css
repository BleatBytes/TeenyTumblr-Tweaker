/* ==UserStyle==
@name           TeenyTumblr Tweaker
@namespace      https://userstyles.world/user/JustDownloadin
@version        1.6.1
@description    Making tumblr just a tad nicer.
@author         Zana
@preprocessor	stylus
@updateURL		https://raw.githubusercontent.com/JustDownloadin/TeenyTumblr-Tweaker/main/lib/TeenyTumblrTweaker.user.css


@var color		ahrefColor	"External link color" #00b8ff
@var select		ahrefItalic "External link style" ["normal*", "italic", "bold"]
@var select		upTab		"Display the upper bar" ["Yes", "No"]
@var checkbox	oldNotes	"Make the notes counter look like the old one again" 1
@var checkbox	showComm	"Display the 'Communities' button on the sidebar" 0
@var checkbox	noButtons	"Hide the 'follow post' and display options ('oldest first', 'comments and reblogs'...) from the notes." 0
@var checkbox	unfuckComp	"Dashboard Plus compatibility mode" 0
@var color		chatColor	"Chat blog name color" #000
@var color		rebCol			"Reblog button color" #0ab335
@var color		likeCol			"Likes button color" #ff4930
@var color		replCol			"Replies button color" #00b8ff
@var color		miscCol			"''Other'' color (like for the Reblog Graph)" #7c5cff
@var color		tagCol		"Post tags color" #14a2d9

==/UserStyle== */

@-moz-document url-prefix("https://www.tumblr.com/") {

/*
1.6.1 patch notes:
- Lol immediately had to fix a typo
- Took the time to fix a couple other things with oldNotes + dashboard plus compatibility
- Wondering if oldotes should really be a toggle or not. Maybe it shouldn't be, and just work as the default?
1.6.0 patch notes:
- Updated old selectors
- Added compatibility with Dashboard Plus' post footer fix
- Code tweaks and clean-up
*/
	
	i = !important;
	No = none i;
	rebLight = alpha(rebCol, .11);
	likeLight = alpha(likeCol, .11);
	repLight = alpha(replCol, .11);
	miscLight = alpha(miscCol, .11);
	rebMed = alpha(rebCol, .671);
	likeMed = alpha(likeCol, .671);
	repMed = alpha(replCol, .671);
	miscMed = alpha(miscCol, .671);
	
/* Heard there may be some font changes in the future so I'm saving this here: --font-family = "Favorit", "Helvetica Neue", "HelveticaNeue", Helvetica, Arial, sans-serif */

/* === General stuff === */
/* Hides recommended blogs, tumblr radar, the adblock message, that stuff. The explore button stays because i think it's cute :3 */
.FZkjV, .HOjIH,
.I6Lwl,
.IYrO9[title="Get a domain"],
.IYrO9[title="TumblrMart"],
.IYrO9[title="Communities"],
.TRX6J[aria-label="Tip"],
.TRX6J[aria-label="Go Premium"]{
	display: none i;
	}
if (showComm == 1) {
	.IYrO9[title="Communities"] {
		display: flex i;
	}
}
/* Hides the Following/For you/Your tags bar */
.Dk06o.X4W3M {
	display: upTab;
	}
	
/* Changes external link look */
article :is(.k31gt) a[target="_blank"] {
	color: ahrefColor i;
	font-style: ahrefItalic unless (ahrefItalic=="bold") i;
	font-weight: ahrefItalic if (ahrefItalic=="bold") i;
	}
	
/* Changes name and button colour of blog in chat */
div.ySwFJ > a.BSUG4 {
	color: chatColor i;
	}
.znXuz .mEtpN > button > span.EvhBA > svg {
	--icon-color-primary: chatColor i
	}
.j17Mp.Nz43S {
	border-radius: 0 i;
	}
.nZ9l5._QSie {
	background-color: transparent;	
	}

	
/* Removes annoying buttons from user panel and replies */
li.IYrO9.ywBwc > a[href="/settings/domains"],
li.IYrO9.ywBwc > a[href="/settings/purchases"],
li.IYrO9.ywBwc > a[href="/settings/gifts"] {
	display: none i;
	}	

/* Post border radius */
.FtjPK {
	border-radius: 0 25px 8px 0 i;
	}

/* === Activity menu === */
/* Tweaks the activity button's menues*/
.y7LSP.dJyeE.NJkFM[aria-selected="true"] {
	border-style: none i;
	}
.hmJK7 {
		padding: 0 8px;
	}
.y7LSP.dJyeE.NJkFM {
	background-color:#fff i;
	border-radius: 1px i;
	border-style: none none solid i;
	transition:0.050s ease-in-out i;
	}
		
/*All activity button*/
.y7LSP.dJyeE.NJkFM:nth-child(1) {
	border-color: likeMed i;
	}
.y7LSP.dJyeE.NJkFM[aria-selected="true"]:nth-child(1) {
	color: likeCol i;
	}
.y7LSP.dJyeE.NJkFM:nth-child(1):hover,
.y7LSP.dJyeE.NJkFM[aria-selected="true"]:nth-child(1):hover {
	background-color: likeLight i;
	}
	
/*Mention button*/
.y7LSP.dJyeE.NJkFM:nth-child(2) {
	border-color: miscMed i;
	}
.y7LSP.dJyeE.NJkFM[aria-selected="true"]:nth-child(2) {
	color: miscCol i;
	}
.y7LSP.dJyeE.NJkFM:nth-child(2):hover,
.y7LSP.dJyeE.NJkFM[aria-selected="true"]:nth-child(2):hover {
	background-color: miscLight i;
	}

/*Reblogs button*/
.y7LSP.dJyeE.NJkFM:nth-child(3) {
	border-color: rebMed i;
	}
.y7LSP.dJyeE.NJkFM[aria-selected="true"]:nth-child(3) {
	color: rebCol i;
	}
.y7LSP.dJyeE.NJkFM:nth-child(3):hover,
.y7LSP.dJyeE.NJkFM[aria-selected="true"]:nth-child(3):hover {
	background-color: rebLight i;
	}
/*Replies button*/
.y7LSP.dJyeE.NJkFM:nth-child(4) {
	border-color: repMed i;
	}
.y7LSP.dJyeE.NJkFM[aria-selected="true"]:nth-child(4){
	color: replCol i;
	}

.y7LSP.dJyeE.NJkFM:nth-child(4):hover,
.y7LSP.dJyeE.NJkFM[aria-selected="true"]:nth-child(4):hover {
	background-color: repLight i;
	}
.VmbqY.r21y5.Li_00.cqwPT.zn53i.EF4A5 {
	background-color: replCol;
	color:#fff
}
.OAANM {
	display:none
}
a.iRWlG > svg {
	margin-top:5px;
}
a.iRWlG:hover {
	filter: brightness(0) saturate(100%) invert(49%) sepia(42%) saturate(1718%) hue-rotate(165deg) brightness(102%) contrast(107%);
}

/* === Post tags === */
/*Changes tags in a post you're writing*/
.sHSSD .aLlJL,
.s7YOu .fdQ5Z,
.sHSSD .aLlJL > button > span.EvhBA > svg {
	border-radius: 5px i;
	color: tagCol i;
	background-color: alpha(tagCol, .11) i;
	--icon-color-primary: tagCol i;
	}
.s7YOu .fdQ5Z {
	border-radius: 25px i;
	}
.s7YOu .mbROR {
	color: tagCol i;
	}
/*Changes border radius of the search bar*/
.oPa7v {
	border-radius: 5px;
}

	
/*=========oldNotes start=========*/
if(oldNotes=="1") {
	/* Hides the note count on posts with 0 notes */
	div.gstmW:has([title="0 notes"]) {
		visibility: hidden i;
		}
	/* Makes the '# notes' button more like it used to be */
	div.vE6sH, .bf-notesPill, .bf-notesIcon {
		border: none i;
		padding: 6px 6px i;
		}
	span.xu5ZG, span.lJK40, .bf-notesPill span {
		font-weight: bold i;
		color: #595959 i;
		}
	div.ePsyd {
		padding: 0 i;
		background-color: transparent i
		}
	/*Hides the super annoying new reblog stuff*/
		if(unfuckComp=="0"){
			.BdbC0[data-css="tabs2025"] {
			display: none i;
			}
		}
	/* Makes the other buttons in the lower bar of dashboard posts the same colour as the notes, because I noticed they were different and it was driving me crazy */
	span.EvhBA > svg,
	a[aria-label="Reblog"] > svg {
		--icon-color-primary: #595959 i;
		}
	a[aria-label="Reblog"][data-css="link disabled"] > svg {
		--icon-color-primary: #59595952 i;
	}
		
	/*Hides Blaze button in post footer (yeah this belongs here, shush*/
	.tOKgq .MCavR.r3vIz {
		visibility: hidden i;
		}
	/* Changes new note details */
	
	.blSOv > .poThh {
		padding: 6px var(--post-padding);
		}

	/*Replies*/
	.ykm3O.lRHNZ.F_5SW > span[title="Number of replies"], .N4a8t .Up4z9 {
		color: replCol;
		transition:0.050s ease-in-out i;
		}
	.ykm3O.lRHNZ.F_5SW[title="Replies"]	{
		background: transparent i;
		}
	.ykm3O.lRHNZ.F_5SW[title="Replies"] > svg use {
		--icon-color-primary: replCol i;
		}
		
	/*Reblogs*/
	.ykm3O._vT58.F_5SW > span[title="Number of reblogs"] {
		color: rebCol;
		transition:0.050s ease-in-out i;
		}
	.ykm3O._vT58.F_5SW[title="Reblogs"] {
		background: transparent;
		}
	.ykm3O._vT58.F_5SW[title="Reblogs"] > svg use {
		--icon-color-primary: rebCol;
		}

	/*Likes*/
	.ykm3O.ztxCq.F_5SW > span[title="Number of likes"] {
		color: likeCol;
		transition:0.050s ease-in-out i;
		}
	.ykm3O.ztxCq.F_5SW[title="Likes"] {
		background:transparent;
		}
	.ykm3O.ztxCq.F_5SW[title="Likes"] > svg use {
		--icon-color-primary: likeCol;
		}
	
	/*Reblog Graph*/
	.ykm3O.jTUmS.F_5SW[title="Reblog Graph"] {
		background:transparent;
		transition:0.050s ease-in-out i;
		}
	.ykm3O.jTUmS.F_5SW[title="Reblog Graph"] > svg use {
		--icon-color-primary: miscCol;
		}

	/*Replies proper*/
	.MI6Q7[aria-label="Reply"] {
		margin-left:-3px;
	}
	.As9E4, .TRX6J.NcZPX[aria-label="reply count button"] {
		background-color: #f2f2f2;
	}
	.As9E4 {
		padding: 12px 15px;
	}
	.zn53i.EF4A5.r21y5 {
		background-color:transparent;
		color: replCol;
	}
	.zn53i.EF4A5.r21y5:hover {
		background-color:transparent;
		opacity: 0.5;
	}
	._7Vla9 {
		padding-top:8px!important;
		padding-bottom:8px!important;
	}
	.NmEJh.pPM64 {
		border-radius: 5px!important;
		--border-radius: 5px;
	}
	/*More dashboard plus compatibility*/
	if(unfuckComp=="1"){
		.AZJHD[data-css="scrollableContent"]{
			button[aria-selected="true"]{
				background-color: transparent i;
				color: #595959;
				border-radius: 0px i;
				transition:0.050s ease-in-out i;
			}
			#comments {
				border-color: replCol i;
			}
			#comments:hover {
				background-color: repLight i;
			}
			#comments[data-active-item="true"] .Ncp30 {
				color: replCol;
			}
			#reblogs {
				border-color: rebCol i;
			}
			#reblogs:hover {
				background-color: rebLight i;
			}
			#reblogs[data-active-item="true"] .Ncp30 {
				color: rebCol;
			}
			#likes {
				border-color: likeCol i;
			}
			#likes:hover {
				background-color: likeLight i;
			}
			#likes[data-active-item="true"] .Ncp30 {
				color: likeCol;
			}
		}
		.bf-notesIcon {
			padding: 5px 2px i;
		}
	}
}
	
/*=========oldNotes end=========*/

/*=========noButtons start=========*/
/*It's actually unclear to me whether this is now obsolete or not due to the footer changes. We'll see.*/
if(noButtons=="1") {
	.TRX6J[aria-label="Oldest first"], .TRX6J[aria-label="Newest first"], .TRX6J[aria-label="Comments and tags"], .TRX6J[aria-label="Tags only"], .TRX6J[aria-label="Other reblogs"], .gAoFY[aria-label="Follow post"] {
		display: none i;
		}
}
/*=========noButtons end=========*/

	
}

@-moz-document url-prefix("https://www.tumblr.com/tagged/") {
/*Displays the "Latest/Top" bar on searches if the "For you" bar is hidden in the dashboard*/
.Dk06o.X4W3M {
	display: flex i;
	}
}

/*=========END=========*/
/*=========END=========*/
/*=========END=========*/

